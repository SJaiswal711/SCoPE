# ==============================================================================
#      Comprehensive CAMB Settings for the MCMC Pipeline
# ==============================================================================
# This file is loaded once by the new interface to configure CAMB.
# You can change any of these settings without recompiling the code.

# ---- Main flags for what to compute ----
output_root = test
get_scalar_cls = T
get_vector_cls = F
get_tensor_cls = F
get_transfer   = F
do_lensing     = T
do_nonlinear = 0
l_max_scalar      = 2700
l_max_tensor      = 1500
k_eta_max_tensor  = 3000

# ------------------------------------------------------------------------------
# Default Cosmological Parameters
# NOTE: These values are REQUIRED for the initial setup. Your MCMC code will
#       IMMEDIATELY OVERWRITE them on the very first step and for all
#       subsequent steps. They just need to be here and be valid.
# ------------------------------------------------------------------------------
use_physical   = T
hubble         = 70.0
ombh2          = 0.0226
omch2          = 0.112
omk            = 0.0
omnuh2         = 0
re_optical_depth     = 0.09
scalar_spectral_index(1)  = 0.96
scalar_amp(1)             = 2.1e-9
# ------------------------------------------------------------------------------

# ---- Dark Energy Model ----
w              = -1.0
usew0wa        = F  # Set to T to use w0, wa below
w0             = -1.0
wa             = 0.0
cs2_lam        = 1.0

# ---- Temperatures and Neutrinos ----
temp_cmb           = 2.726
helium_fraction    = 0.24
massless_neutrinos = 3.046
massive_neutrinos  = 0
nu_mass_eigenstates = 1
nu_mass_degeneracies = 0
nu_mass_fractions = 1

# ---- Initial Power Spectrum Parameters ----
initial_power_num         = 1
pivot_scalar              = 0.05
pivot_tensor              = 0.05
scalar_nrun(1)            = 0.0
tensor_spectral_index(1)  = 0.0
initial_ratio(1)          = 1.0

# ---- Reionization Model ----
reionization         = T
# This MUST be T so the MCMC can provide tau
re_use_optical_depth = T 
re_redshift          = 11
re_delta_redshift    = 1.5
re_ionization_frac   = -1

# ---- RECFAST settings for recombination ----
RECFAST_fudge = 1.14
RECFAST_fudge_He = 0.86
RECFAST_Heswitch = 6
RECFAST_Hswitch  = T

# ---- Initial Conditions & Normalization ----
initial_condition   = 1
initial_vector = -1 0 0 0 0
vector_mode = 0
COBE_normalize = F
CMB_outputscale = 7.4311e12

# ---- Transfer Function Settings (if get_transfer=T) ----
transfer_high_precision = F
transfer_kmax           = 2
transfer_k_per_logint   = 0
transfer_num_redshifts  = 1
transfer_interp_matterpower = T
transfer_redshift(1)    = 0

# ---- Bispectrum Settings ----
do_lensing_bispectrum = F
do_primordial_bispectrum = F
bispectrum_nfields = 1
bispectrum_slice_base_L = 0
bispectrum_ndelta=3
bispectrum_delta(1)=0
bispectrum_delta(2)=2
bispectrum_delta(3)=4
bispectrum_do_fisher= F
bispectrum_fisher_noise=0
bispectrum_fisher_noise_pol=0
bispectrum_fisher_fwhm_arcmin=7

# ---- Accuracy and Performance Settings ----
feedback_level = 1
lensing_method = 1
accurate_BB = F
massive_nu_approx = 1
accurate_polarization   = T
accurate_reionization   = T
do_tensor_neutrinos     = T
do_late_rad_truncation  = T
number_of_threads       = 0 # 0 means use all available cores
high_accuracy_default=F
accuracy_boost          = 1
l_accuracy_boost        = 1
l_sample_boost          = 1